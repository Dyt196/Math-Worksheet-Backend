import{Q as V,g as R,a as U}from"./QScrollObserver-Pz_tYolA.js";import{c as B,g as F,i as k,e as x,l as O,r as y,a as r,w as z,o as j,h as E,b as v,d as I,p as N,f as K,j as M,k as _,m as A,n as D,q as G,s as J,t as W,u as X,v as P}from"./index-aVaf6sib.js";const Y=B({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:g,emit:i}){const{proxy:{$q:a}}=F(),o=k(O,x);if(o===x)return console.error("QHeader needs to be child of QLayout"),x;const l=y(parseInt(e.heightHint,10)),c=y(!0),b=r(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||a.platform.is.ios&&o.isContainer.value===!0),w=r(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return c.value===!0?l.value:0;const t=l.value-o.scroll.value.position;return t>0?t:0}),u=r(()=>e.modelValue!==!0||b.value===!0&&c.value!==!0),$=r(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),q=r(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),L=r(()=>{const t=o.rows.value.top,f={};return t[0]==="l"&&o.left.space===!0&&(f[a.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),t[2]==="r"&&o.right.space===!0&&(f[a.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),f});function d(t,f){o.update("header",t,f)}function p(t,f){t.value!==f&&(t.value=f)}function C({height:t}){p(l,t),d("size",t)}function H(t){$.value===!0&&p(c,!0),i("focusin",t)}z(()=>e.modelValue,t=>{d("space",t),p(c,!0),o.animate()}),z(w,t=>{d("offset",t)}),z(()=>e.reveal,t=>{t===!1&&p(c,e.modelValue)}),z(c,t=>{o.animate(),i("reveal",t)}),z(o.scroll,t=>{e.reveal===!0&&p(c,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const S={};return o.instances.header=S,e.modelValue===!0&&d("size",l.value),d("space",e.modelValue),d("offset",w.value),j(()=>{o.instances.header===S&&(o.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const t=E(g.default,[]);return e.elevated===!0&&t.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(v(V,{debounce:0,onResize:C})),v("header",{class:q.value,style:L.value,onFocusin:H},t)}}}),Z=B({name:"QPageContainer",setup(e,{slots:g}){const{proxy:{$q:i}}=F(),a=k(O,x);if(a===x)return console.error("QPageContainer needs to be child of QLayout"),x;N(K,!0);const o=r(()=>{const l={};return a.header.space===!0&&(l.paddingTop=`${a.header.size}px`),a.right.space===!0&&(l[`padding${i.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(l.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(l[`padding${i.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),l});return()=>v("div",{class:"q-page-container",style:o.value},I(g.default))}}),ee=B({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:g,emit:i}){const{proxy:{$q:a}}=F(),o=y(null),l=y(a.screen.height),c=y(e.container===!0?0:a.screen.width),b=y({position:0,direction:"down",inflectionPoint:0}),w=y(0),u=y(M.value===!0?0:R()),$=r(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),q=r(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),L=r(()=>u.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),d=r(()=>u.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function p(n){if(e.container===!0||document.qScrollPrevented!==!0){const s={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};b.value=s,e.onScroll!==void 0&&i("scroll",s)}}function C(n){const{height:s,width:m}=n;let h=!1;l.value!==s&&(h=!0,l.value=s,e.onScrollHeight!==void 0&&i("scrollHeight",s),S()),c.value!==m&&(h=!0,c.value=m),h===!0&&e.onResize!==void 0&&i("resize",n)}function H({height:n}){w.value!==n&&(w.value=n,S())}function S(){if(e.container===!0){const n=l.value>w.value?R():0;u.value!==n&&(u.value=n)}}let t=null;const f={instances:{},view:r(()=>e.view),isContainer:r(()=>e.container),rootRef:o,height:l,containerHeight:w,scrollbarWidth:u,totalWidth:r(()=>c.value+u.value),rows:r(()=>{const n=e.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:_({size:0,offset:0,space:!1}),right:_({size:300,offset:0,space:!1}),footer:_({size:0,offset:0,space:!1}),left:_({size:300,offset:0,space:!1}),scroll:b,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,s,m){f[n][s]=m}};if(N(O,f),R()>0){let n=function(){h=null,Q.classList.remove("hide-scrollbar")},s=function(){if(h===null){if(Q.scrollHeight>a.screen.height)return;Q.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(n,300)},m=function(T){h!==null&&T==="remove"&&(clearTimeout(h),n()),window[`${T}EventListener`]("resize",s)},h=null;const Q=document.body;z(()=>e.container!==!0?"add":"remove",m),e.container!==!0&&m("add"),A(()=>{m("remove")})}return()=>{const n=D(g.default,[v(U,{onScroll:p}),v(V,{onResize:C})]),s=v("div",{class:$.value,style:q.value,ref:e.container===!0?void 0:o,tabindex:-1},n);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:o},[v(V,{onResize:H}),v("div",{class:"absolute-full",style:L.value},[v("div",{class:"scroll",style:d.value},[s])])]):s}}}),te=(e,g)=>{const i=e.__vccOpts||e;for(const[a,o]of g)i[a]=o;return i},ne={};function oe(e,g){const i=X("router-view");return J(),G(ee,{view:"lHh Lpr lFf"},{default:W(()=>[P(Y,{elevated:""}),P(Z,null,{default:W(()=>[P(i)]),_:1})]),_:1})}const re=te(ne,[["render",oe]]);export{re as default};
